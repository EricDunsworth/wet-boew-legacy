<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<!-- Web Experience Toolkit (WET) / Boîte à outils de l'expérience Web (BOEW)
www.tbs.gc.ca/ws-nw/wet-boew/terms / www.sct.gc.ca/ws-nw/wet-boew/conditions -->
<title>Session timeout - GC Web Usablity theme - Web Experience Toolkit (WET)</title>

<link rel="shortcut icon" href="images/favicon.ico" />
<meta name="dcterms.description" content="English description / Description en anglais" />
<meta name="description" content="English description / Description en anglais" />
<meta name="keywords" content="English keywords / Mots-clés en anglais" />
<meta name="dcterms.creator" content="English name of the content author / Nom en anglais de l'auteur du contenu" />
<meta name="dcterms.title" content="English title / Titre en anglais" />
<meta name="dcterms.issued" title="W3CDTF" content="Date published (YYYY-MM-DD) / Date de publication (AAAA-MM-JJ)" />
<meta name="dcterms.modified" title="W3CDTF" content="Date modified (YYYY-MM-DD) / Date de modification (AAAA-MM-JJ)" />
<meta name="dcterms.subject" title="scheme" content="English subject terms / Termes de sujet en anglais" />
<meta name="dcterms.language" title="ISO639-2" content="eng" />

<link href="../css/base.css" rel="stylesheet" />
<!--[if IE 6]><![endif]-->
<!--[if IE 8]><link href="../css/base-ie8.css" rel="stylesheet" /><![endif]-->
<!--[if IE 7]><link href="../css/base-ie7.css" rel="stylesheet" /><![endif]-->
<!--[if lte IE 6]><link href="../css/base-ie6.css" rel="stylesheet" /><![endif]-->
<!-- CSSStart -->
<link href="css/theme-clf2-nsi2.css" rel="stylesheet" />
<!--[if IE 7]><link href="css/theme-clf2-nsi2-ie7.css" rel="stylesheet" /><![endif]-->
<!--[if lte IE 6]><link href="css/theme-clf2-nsi2-ie6.css" rel="stylesheet" /><![endif]-->
<!-- CSSEnd -->

<script src="../js/lib/jquery.min.js"></script>
<script src="../js/pe-ap.js" id="progressive"></script>
<script>
/* <![CDATA[ */
var params = {
sTimeout:{inactivity: 30000, logouturl: 'http://www.rhdcc-hrsdc.gc.ca/'}
};
PE.progress(params);
/* ]]> */
</script>

<!-- CustomScriptsCSSStart -->
<!-- CustomScriptsCSSEnd -->
</head>

<body><div id="cn-body-inner-2col">
<div id="cn-skip-head">
<ul id="cn-tphp">
<li id="cn-sh-link-1"><a href="#cn-cont">Skip to main content</a></li>
<li id="cn-sh-link-2"><a href="#cn-nav">Skip to side navigation</a></li>
</ul>
</div>

<div id="cn-head"><div id="cn-head-inner"><header>
<!-- HeaderStart -->
<div id="cn-sig"><img src="images/sig-eng.gif" width="372" height="20" alt="Government of Canada" title="Government of Canada" /></div>
<div id="cn-wmms"><img src="images/wmms.gif" width="83" height="20" alt="Symbol of the Government of Canada" title="Symbol of the Government of Canada" /></div>

<div id="cn-leaf"></div>
<div id="cn-banner" role="banner">
<p id="cn-banner-text">Name of Institution</p>
<p>[www.]mainsite-siteprimaire.gc.ca</p>
</div>

<nav role="navigation">
<div id="cn-cmb"><h2>Common menu bar</h2>
<ul>
<li id="cn-cmb1"><a href="sTimeout-fra.html" lang="fr" title="Français - Version française de cette page">Français</a></li>
<li id="cn-cmb2"><a href="#" title="Home - Main page of the Web site">Home</a></li>
<li id="cn-cmb3"><a href="#" title="Contact Us - Important contact information">Contact Us</a></li>
<li id="cn-cmb4"><a href="#" title="Help - Information about using the Web site">Help</a></li>
<li id="cn-cmb5"><a rel="search" href="#" title="Search - Search the Web site">Search</a></li>
<li id="cn-cmb6"><a rel="external" href="http://www.canada.gc.ca/home.html" title="canada.gc.ca - Government of Canada Web site">canada.gc.ca</a></li>
</ul>
</div>

<div id="cn-bcrumb"><h2>Breadcrumb trail</h2>
<ol>
<li><a href="#" title="Home - Main page of the Web site">Home</a>&#160;&#62;</li>
<li><a href="#">Level&#160;1</a>&#160;&#62;</li>
<li>Session timeout - GC Web Usability theme</li>
</ol>
</div>
</nav>
<!-- HeaderEnd -->
</header></div></div>

<div id="cn-cols"><div id="cn-cols-inner" class="equalize">
<div id="cn-centre-col" role="main"><div id="cn-centre-col-inner">
<!-- MainContentStart -->
<h1 id="cn-cont">Session timeout - GC Web Usability theme</h1>

<section><h2>Overview</h2>
<p>This sub project will help web asset owners provide session timeout and inactivity timeout functionality. When a user requests a page with this plugin implemented their session will begin. After the specified session period, they will be notified that their session is about to timeout.  At this point, they will have the option to remain logged in by clicking "OK", or logging out by clicking "Cancel".  At anytime during the session, if the user remains idle for a specified amount of time, they will be notified that they're session is about to time out. In either case, if the user does not respond to the timeout notification within a specified amount of time, once they click either "OK" or "Cancel" they will be automatically redirected to the log out page.</p>
<p>The JavaScript you're allowed to edit (within the page) is:</p>
<p><code><strong>sTimeout:{inactivity: 1200000, reactionTime: 30000, sessionalive: 1200000, logouturl: 'http://www.rhdcc-hrsdc.gc.ca/', refreshCallbackUrl: 'http://www.rhdcc-hrsdc.gc.ca/ajax/callback/url/'}</strong></code></p>
<p>This allows you to configure the plugin:</p>
<ul>
<li><strong>inactivity:</strong> This is the inactivity period of time after which the dialog message will appear.</li>
<li><strong>reactionTime:</strong> This is the period of time the user has to perform an action with the dialog message.</li>
<li><strong>sessionalive:</strong> This is the period of time for the session to stay alive until the dialog message appears.</li>
<li><strong>logouturl:</strong> This is the URL that users are sent to when the session has expired.</li>
<li><strong>refreshCallbackUrl:</strong> This is the URL to perform an ajax refresh, must return true/false.</li>
</ul>
<p>The only required parameter is logouturl, all other fields are optional. The default javascript would be:</p>
<p><code><strong>sTimeout:{logouturl: 'http://www.rhdcc-hrsdc.gc.ca/'}</strong></code></p>
<p><strong>IMPORTANT NOTE:</strong> The inactivity, reactionTime and sessionalive parameters are set in miliseconds. The only required paramter is the logouturl. The default inactivity and sessionalive is set to 20 minutes with a 30 second confirmation time with the dialog message. The refreshCallbackUrl must not be a page containing the timeout function again as a loop will be created, it should be simply a viewless page that refreshes the session.</p>
<p>Need help with the conversion? See: <a href="http://www.calculateme.com/Time/Minutes/ToMilliseconds.htm">http://www.calculateme.com/Time/Minutes/ToMilliseconds.htm</a></p>
<p><strong>IMPORTANT NOTE</strong>: Your sessionalive and inactivity parameters should be equal to your web server session alive time minus the reactionTime time. If you set your sessionalive time and inactivity time to the same as your web server without taking into consideration the reactionTime time then the session will have ended by the server as soon as the popup appears to extend the session.</p>
</section>

<section><h2>Setup</h2>
<p>This sub project needs the pe-ap.js file as well as some of the files within the js/lib folder (jquery.min.js). To set up the session timeout we have to load pe-ap.js with the parameters as follows in the next section.</p>
</section>

<section><h2>How do I use it?</h2>
<p>Add the following in the PE parameters:</p>
<p style="margin:10px 0 10px 30px;"><code>
&lt;script type="text/javascript"&gt;<br />
/* &lt;![CDATA[ */<br />
&nbsp;&nbsp;&nbsp;var params = {<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sTimeout: {logouturl: 'http://www.rhdcc-hrsdc.gc.ca/logout/url/'}<br />
&nbsp;&nbsp;&nbsp;};<br />
&nbsp;&nbsp;&nbsp;PE.progress(params);<br />
/* ]]&gt; */<br />
&lt;/script&gt;<br />
</code></p>
</section>

<section><h2>Try it out!</h2>
<p>This page has a 30 seconds inactivity timeout period. You also have 30 seconds to confirm if you want to keep the session alive. Please wait for the prompt to appear.</p>
</section>

<section><h2>Questions?</h2>
<p>Roch Lambert (roch.lambert@hrsdc-rhdcc.gc.ca)<br />Human Resources and Skills Development Canada<br />Twitter: @rlambert27</p>
</section>
<!-- MainContentEnd -->
</div></div>

<div id="cn-left-col"><div id="cn-left-col-inner"><nav role="navigation"><h2 id="cn-nav">Side navigation (left column)</h2>
<div class="cn-left-col-default">
<!-- SideNavLeftStart -->
<section role="search"><h3><label for="cn-search">Search</label></h3>
<form action="#" method="post"><div id="cn-search-box">
<input id="cn-search" name="cn-search" type="search" size="18" maxlength="40" /><input id="cn-search-submit" name="cn-search-submit" type="submit" value="Search" />
<a rel="search" href="#">Advanced search</a>
</div></form>
</section>

<section><h3>Section&#160;1</h3>
<ul>
<li><a href="#">Item&#160;1a</a>
	<ul>
	<li><a href="#">Item&#160;1b</a></li>
	<li><a href="#">Item&#160;2b</a></li>
	</ul>
</li>
<li><a href="#">Item&#160;2a</a></li>
<li><a href="#">Item&#160;3a</a></li>
</ul>		
</section>

<section><h3>Section&#160;2</h3>
<ul>
<li><a href="#">Item&#160;1a</a></li>
<li><a href="#">Item&#160;2a</a></li>
<li><a href="#">Item&#160;3a</a></li>
</ul>
</section>
<!-- SideNavLeftEnd -->
</div>
</nav></div></div>
</div></div>

<div id="cn-foot"><div id="cn-foot-inner"><footer><h2>Footer</h2>
<!-- FooterStart -->
<div id="cn-in-pd">			
<dl id="cn-doc-dates" role="contentinfo">
<dt>Date Modified:</dt><dd><span><time pubdate="pubdate">2010-08-09</time></span></dd>
</dl>
<div id="cn-toppage-foot"><a href="#cn-tphp" title="Return to Top of Page">Top of Page</a></div>
<div id="cn-in-pd-links">
<ul>
<li id="cn-inotices-link"><a href="#" rel="license">Important Notices</a></li>
</ul>
</div>
</div>
<!-- FooterEnd -->
</footer></div></div>
</div></body>
</html>